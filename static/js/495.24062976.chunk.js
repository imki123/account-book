"use strict";(self.webpackChunkaccount_book=self.webpackChunkaccount_book||[]).push([[495],{5495:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var i,o=t(168),r=t(885),u=t(208),a=t(2791),c=t(6871),s=t(6095),l=t(2546),d=t(5033),f=t(3950),h=t(184);function v(n){var e=n.onClick,t=n.refreshing;return(0,h.jsx)(p,{onClick:e,disabled:t,children:(0,h.jsx)(f.Z,{})})}var b,m,p=u.Z.button(i||(i=(0,o.Z)(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  @media (min-width: 1000px) {\n    right: calc(50% - (1000px / 2) + 20px);\n  }\n\n  padding: 5px;\n  width: 40px;\n  height: 40px;\n\n  overflow: hidden;\n  background: white;\n  border: 2px solid #eee;\n  border-radius: 100%;\n\n  ","\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  svg {\n    color: #aaa;\n    width: 100%;\n    height: 100%;\n  }\n"])),(function(n){return n.disabled&&"animation: 500ms rotation infinite linear;"})),x=t(5101),k=t(8197),g=t(1833),Z=t(3421),w=t(4787),C=t(4825),j=t(3465);function R(){var n=(0,c.UO)(),e=(0,c.s0)(),t=(0,a.useState)(),i=(0,r.Z)(t,2),o=i[0],u=i[1],f=(0,a.useState)(!1),b=(0,r.Z)(f,2),m=b[0],p=b[1],g=(0,a.useState)(),j=(0,r.Z)(g,2),R=j[0],L=j[1],D=(0,a.useState)(),E=(0,r.Z)(D,2),T=E[0],_=E[1],q=(0,a.useRef)(null),y=(0,a.useRef)(!1),O=(0,a.useCallback)((function(){n.sheetId&&(p(!0),(0,d.zf)(Number(n.sheetId)).then((function(n){p(!1),n&&u(n)})))}),[n.sheetId]),P=(0,a.useCallback)((function(n){if(y.current=!0,o){var e=(0,l.ZP)((function(e){if(e)return(0,Z.Jq)(n.target),e.name=n.target.value,e}),o);u(e)}}),[o]);(0,a.useEffect)((function(){O()}),[O]),(0,a.useEffect)((function(){if(void 0!==R){var n=document.querySelector("#row_".concat(R+1));n&&(n.classList.add("blink"),L(void 0),setTimeout((function(){n.classList.remove("blink")}),k.w))}}),[R]),(0,a.useEffect)((function(){if(o&&void 0!==T){var n=document.querySelector("#row_".concat(T));n&&(n.classList.add("blinkRed"),setTimeout((function(){n.classList.remove("blinkRed");var e=(0,l.ZP)(o,(function(n){var e;null===n||void 0===n||null===(e=n.table)||void 0===e||e.splice(T-1,1)}));u(e),_(void 0)}),k.w))}}),[T,o]);var z=(0,a.useCallback)((function(n){y.current=!0;var e=(0,l.ZP)(o,(function(e){var t;null===e||void 0===e||null===(t=e.table)||void 0===t||t.splice(n,0,["","","",""])}));u(e),L(n)}),[o]),N=(0,a.useCallback)((function(n){y.current=!0,_(n)}),[]),B=(0,a.useCallback)((function(){n.sheetId&&o&&(0,d.w1)(Number(n.sheetId),o).then((function(n){(0,Z.Oi)("\uc790\ub3d9 \uc800\uc7a5")}))}),[n.sheetId,o]);return(0,a.useEffect)((function(){!0===y.current&&(null!==q.current&&clearTimeout(q.current),q.current=setTimeout((function(){q.current=null,B()}),2e3))}),[B,o]),(0,h.jsxs)(S,{children:[(0,h.jsx)(s.Z,{title:void 0!==(null===o||void 0===o?void 0:o.name)?(0,h.jsx)(I,{value:null===o||void 0===o?void 0:o.name,onChange:P}):null,backButton:!0,backFunction:function(){return e("/",{replace:!0})}}),(0,h.jsx)(x.Z,{sheetData:o,setSheetData:u,addRow:z,removeRow:N,changeRef:y}),(0,h.jsx)(C.Z,{sheetData:o,setSheetData:u}),(0,h.jsx)(v,{refreshing:m,onClick:function(){O(),y.current=!1,(0,Z.Oi)("\uc0c8\ub85c\uace0\uce68 \uc644\ub8cc")}}),(0,h.jsx)(w.Z,{loading:m})]})}var S=u.Z.div(b||(b=(0,o.Z)(["\n  ","\n"])),j.t),I=u.Z.input(m||(m=(0,o.Z)(["\n  width: 100%;\n  min-width: 50px;\n  height: 24px;\n  border: 0;\n  padding: 0 2px;\n  outline: none;\n  background: none;\n  font: inherit;\n  &:focus,\n  &:hover,\n  &:active {\n    border-bottom: 1px solid ",";\n  }\n"])),g.w.greenLine)},3950:function(n,e,t){var i=t(4836);e.Z=void 0;var o=i(t(5649)),r=t(184),u=(0,o.default)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");e.Z=u}}]);
//# sourceMappingURL=495.24062976.chunk.js.map