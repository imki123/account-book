"use strict";(self.webpackChunkaccount_book=self.webpackChunkaccount_book||[]).push([[495],{5033:function(n,e,t){t.d(e,{WH:function(){return c},eI:function(){return l},s0:function(){return f},v4:function(){return d},w1:function(){return s},zf:function(){return o}});var r=t(8214),i=t(5861),u=t(4569),a=t.n(u)().create({baseURL:"https://blog-imki123-backend.herokuapp.com/accountBook/sheet/",withCredentials:!0}),c=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.get("");case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.get("".concat(e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.post("");case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e,t){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.patch("".concat(e),t);case 2:return i=n.sent,n.abrupt("return",i.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),l=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.patch("".concat(e.fromId,"/").concat(e.toId),e);case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.delete("".concat(e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},9707:function(n,e,t){t.d(e,{Z:function(){return x}});var r,i,u,a,c,o,d,s=t(168),l=t(208),f=t(2791),h=t(3421),p=t(184),v=function(n){return BigInt((0,h.ge)(n))};function x(n){var e=n.sheetData,t=(n.setSheetData,(0,f.useRef)(0)),r=(0,f.useRef)(0),i=(0,f.useMemo)((function(){var n;if(null===e||void 0===e||!e.table)return{summary:{},summaryKeys:[]};var i={};t.current=0,r.current=0,null===e||void 0===e||null===(n=e.table)||void 0===n||n.forEach((function(n,e){if(r.current+=(0,h.ZQ)(n[3]),(n[0].includes("\uc6d4\uae09")||n[0].includes("\uc218\uc785"))&&(t.current+=(0,h.ZQ)(n[3])),""!==n[0].trim()){void 0===i[n[0]]&&(i[n[0]]={sum:"0",order:""});try{var u=v(i[n[0]].sum||"0"),a=v(n[3]||"0");i[n[0]].sum=String(u+a)}catch(c){}}}));var u=Object.keys(i).sort((function(n,e){var t=Number(n.slice(0,n.indexOf("."))),r=Number(e.slice(0,e.indexOf(".")));return isNaN(t)||isNaN(r)?n>e?1:-1:t>r?1:-1}));return u.forEach((function(n,e){return i[n].order=e})),{summary:i,summaryKeys:u}}),[null===e||void 0===e?void 0:e.table]),u=i.summary,a=i.summaryKeys;return(0,p.jsx)(b,{children:a.length>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m,{children:"\uc694\uc57d"}),(0,p.jsx)(g,{children:f.Children.toArray(a.map((function(n,e){var i,a;return(0,p.jsxs)(Z,{style:e%2===0?{background:"#cec"}:{},children:[(0,p.jsx)(k,{children:n}),(0,p.jsxs)(w,{children:["".concat((0,h.Gn)(null===(i=u[n])||void 0===i?void 0:i.sum)," \uc6d0"),(0,p.jsx)(j,{children:"".concat(Math.abs((0,h._r)(100*(0,h.ZQ)(null===(a=u[n])||void 0===a?void 0:a.sum)/(0!==t.current?t.current:r.current),2)),"%")})]})]})})))})]}):null})}var b=l.Z.div(r||(r=(0,s.Z)(["\n  padding: 20px 0;\n"]))),m=l.Z.div(i||(i=(0,s.Z)(["\n  font-weight: bold;\n"]))),g=l.Z.div(u||(u=(0,s.Z)(["\n  padding-top: 10px;\n"]))),Z=l.Z.div(a||(a=(0,s.Z)(["\n  padding: 2px 4px;\n  width: 300px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),k=l.Z.div(c||(c=(0,s.Z)(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: space-between;\n  width: 80px;\n  padding-right: 10px;\n  border-right: 1px solid #222;\n"]))),w=l.Z.div(o||(o=(0,s.Z)(["\n  display: flex;\n  padding-left: 10px;\n  text-align: right;\n  overflow-wrap: anywhere;\n"]))),j=l.Z.div(d||(d=(0,s.Z)(["\n  width: 60px;\n  margin-left: 4px;\n  border-left: 1px solid #222;\n"])))},2012:function(n,e,t){t.d(e,{Z:function(){return w}});var r,i,u,a,c,o,d=t(168),s=t(885),l=t(2791),f=t(1833),h=t(8141),p=t(1098),v=t(2546),x=t(208),b=t(8197),m=t(3421),g=t(1366),Z=JSON.parse('{"Q6":[0,0,"#ffc9c9"],"iQ":[0,0,"#fcc2d7"],"pl":[0,0,"#eebefa",0,"#da77f2"],"ht":[0,0,"#d0bfff",0,"#9775fa"],"QN":[0,0,"#bac8ff",0,"#748ffc"],"iN":[0,0,"#a5d8ff",0,"#4dabf7"],"ek":["#ebfbee"],"LR":[0,0,"#d8f5a2",0,"#a9e34b"],"er":[0,0,"#ffec99",0,"#ffd43b"]}'),k=t(184);function w(n){var e,t=n.sheetData,r=n.setSheetData,i=n.addRow,u=n.removeRow,a=n.changeRef,c=n.readOnly,o=void 0!==c&&c,d=BigInt(0),f=(0,l.useMemo)((function(){return["","1.\uc0dd\ud65c\ube44","2.\ubc30\ub2ec\uc678\uc2dd","3.\uae30\ud0c0","4.\uad00\ub9ac\ube44","5.\uc800\uae08","6.\ubcf4\ud5d8\ub8cc","7.\uc5ec\ud589","8.\uacbd\uc870\uc0ac","9.\ubcd1\uc6d0","10.\ube44\uc0c1\uae08","11.\uc218\uc785"]}),[]),h=(0,l.useState)(f),p=(0,s.Z)(h,2),x=p[0],b=p[1];(0,l.useEffect)((function(){(0,g.o)().then((function(n){b(n.types||f)}))}),[f]);var Z=function(n,e,i){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(a&&(a.current=!0),n.target){(0,m.Jq)(n.target,u);var c=(0,v.ZP)((function(t){if(t&&t.table&&t.table[e])return t.table[e][i]=n.target.value,t}),t);r(c)}};return(0,k.jsx)(j,{children:(0,k.jsx)("table",{children:(0,k.jsxs)("tbody",{children:[(0,k.jsxs)("tr",{children:[o?(0,k.jsx)("th",{}):(0,k.jsx)("th",{onClick:function(){return i&&i(0)},children:(0,k.jsx)(y,{fontSize:"small"})}),(0,k.jsx)("th",{children:"\ubc88\ud638"}),(0,k.jsx)("th",{children:"\uc720\ud615"}),(0,k.jsx)("th",{children:"\ub0a0\uc9dc"}),(0,k.jsx)("th",{children:"\uc81c\ubaa9"}),(0,k.jsx)("th",{children:"\uac00\uaca9"}),(0,k.jsx)("th",{children:"\ud569\uacc4"}),(0,k.jsx)("th",{})]}),l.Children.toArray(null===t||void 0===t||null===(e=t.table)||void 0===e?void 0:e.map((function(n,e){return(0,k.jsxs)("tr",{id:"row_".concat(e+1),children:[o?(0,k.jsx)("td",{}):(0,k.jsx)("td",{onClick:function(){i&&i(e+1)},children:(0,k.jsx)(y,{fontSize:"small"})}),(0,k.jsx)("td",{children:e+1}),l.Children.toArray(n.map((function(n,t){return 0===t?(0,k.jsx)("td",{children:o?(0,k.jsx)(L,{value:n,height:"20px",children:n}):(0,k.jsx)(N,{value:n,onChange:function(n){return Z(n,e,t,!0)},height:"27px",children:l.Children.toArray(x.map((function(n){return(0,k.jsx)("option",{children:n})})))})}):(3===t&&(d+=(0,m.jp)(n)),(0,k.jsx)("td",{children:o?3===t&&(0,m.C4)(n)&&""!==n?(0,m.Gn)(n):n.toString():(0,k.jsx)(S,{numCheck:3===t,value:3===t&&(0,m.C4)(n)&&""!==n?(0,m.Gn)(n):n.toString(),height:"28px",onChange:function(n){return Z(n,e,t)}})}))}))),(0,k.jsx)("td",{children:(0,m.Gn)(d)}),o?(0,k.jsx)("td",{}):(0,k.jsx)("td",{onClick:function(){return u&&u(e+1)},children:(0,k.jsx)(C,{fontSize:"small"})})]})})))]})})})}var j=x.Z.div(r||(r=(0,d.Z)(["\n  min-width: 100%;\n  max-width: 200%;\n  overflow: auto;\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    border: 1px solid ",";\n  }\n  th {\n    background: ",";\n  }\n  th,\n  td {\n    border: 1px solid ",";\n    white-space: pre;\n    text-align: left;\n    padding: 2px;\n    min-width: 10px;\n  }\n  .blink {\n    @keyframes blink {\n      0% {\n        background: ",";\n      }\n      100% {\n        background: white;\n      }\n    }\n    animation: blink ","ms;\n  }\n  .blinkRed {\n    @keyframes blinkRed {\n      0% {\n        background: red;\n      }\n      100% {\n        background: white;\n      }\n    }\n    animation: blinkRed ","ms;\n  }\n  th:nth-of-type(5),\n  th:nth-of-type(6),\n  th:nth-of-type(7) {\n    min-width: 60px;\n  }\n  td:nth-of-type(6),\n  td:nth-of-type(7),\n  td:nth-of-type(6) input,\n  td:nth-of-type(7) input {\n    text-align: right;\n  }\n  td:nth-of-type(3),\n  td:nth-of-type(4),\n  td:nth-of-type(5),\n  td:nth-of-type(6) {\n    padding: 0;\n  }\n"])),f.w.greenLine,f.w.greenLine,f.w.greenLine,f.w.greenLine,b.w,b.w),y=(0,x.Z)(h.Z)(i||(i=(0,d.Z)(["\n  color: #7c7;\n"]))),C=(0,x.Z)(p.Z)(u||(u=(0,d.Z)(["\n  color: red;\n"]))),S=x.Z.input(a||(a=(0,d.Z)(["\n  width: 100%;\n  min-width: 100%;\n  height: ",";\n  padding: 0 2px;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background: none;\n  font: inherit;\n  &:focus,\n  &:hover,\n  &:active {\n    background: ",";\n  }\n  ","\n"])),(function(n){var e=n.height;return e?"".concat(e):"100%"}),Z.ek[0],(function(n){var e=n.numCheck,t=n.value;return e&&!(0,m.C4)(t)?"background: #fcc;":""})),R=function(n){return n.includes("\uc0dd\ud65c\ube44")?Z.iQ[2]:n.includes("\ubc30\ub2ec\uc678\uc2dd")?Z.Q6[2]:n.includes("\uae30\ud0c0")?Z.er[2]:n.includes("\uad00\ub9ac\ube44")?Z.LR[2]:n.includes("\uc800\uae08")?Z.iN[4]:n.includes("\ubcf4\ud5d8\ub8cc")?Z.iN[2]:n.includes("\uc5ec\ud589")?Z.QN[2]:n.includes("\uacbd\uc870\uc0ac")?Z.QN[4]:n.includes("\ubcd1\uc6d0")?Z.ht[2]:n.includes("\ube44\uc0c1\uae08")?Z.ht[4]:n.includes("\uc218\uc785")?Z.pl[2]:n.includes("\uc6a9\ub3c8")?Z.LR[4]:n.includes("\uce74\ub4dc")?Z.er[4]:n.includes("\uc6d4\uae09")?Z.pl[4]:void 0},N=x.Z.select(c||(c=(0,d.Z)(["\n  width: 100%;\n  min-width: 100%;\n  height: ",";\n  padding: 0 2px;\n  border: 0;\n  border-radius: 0;\n  outline: none;\n  background: transparent;\n  color: #222;\n  font: inherit;\n  background: ",";\n"])),(function(n){var e=n.height;return e?"".concat(e):"100%"}),(function(n){var e=n.value;return R(e)})),L=x.Z.div(o||(o=(0,d.Z)(["\n  height: ",";\n  background: ",";\n"])),(function(n){var e=n.height;return e?"".concat(e):"100%"}),(function(n){var e=n.value;return R(e)}))},8197:function(n,e,t){t.d(e,{w:function(){return r}});var r=300},5495:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r,i=t(168),u=t(885),a=t(208),c=t(2791),o=t(6871),d=t(6095),s=t(2546),l=t(5033),f=t(3950),h=t(184);function p(n){var e=n.onClick,t=n.refreshing;return(0,h.jsx)(x,{onClick:e,disabled:t,children:(0,h.jsx)(f.Z,{})})}var v,x=a.Z.button(r||(r=(0,i.Z)(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  @media (min-width: 500px) {\n    right: calc(50% - 230px);\n  }\n\n  padding: 5px;\n  width: 40px;\n  height: 40px;\n\n  overflow: hidden;\n  background: white;\n  border: 2px solid #eee;\n  border-radius: 100%;\n\n  ","\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  svg {\n    color: #aaa;\n    width: 100%;\n    height: 100%;\n  }\n"])),(function(n){return n.disabled&&"animation: 500ms rotation infinite linear;"})),b=t(2012),m=t(8197),g=t(1833),Z=t(3421),k=t(4787),w=t(9707);function j(){var n=(0,o.UO)(),e=(0,o.s0)(),t=(0,c.useState)(),r=(0,u.Z)(t,2),i=r[0],a=r[1],f=(0,c.useState)(!1),v=(0,u.Z)(f,2),x=v[0],g=v[1],j=(0,c.useState)(),C=(0,u.Z)(j,2),S=C[0],R=C[1],N=(0,c.useState)(),L=(0,u.Z)(N,2),I=L[0],E=L[1],Q=(0,c.useState)(!0),z=(0,u.Z)(Q,2),O=z[0],q=z[1],D=(0,c.useRef)(null),A=(0,c.useRef)(!1),_=(0,c.useCallback)((function(){n.sheetId&&(g(!0),(0,l.zf)(Number(n.sheetId)).then((function(n){g(!1),n&&a(n)})))}),[n.sheetId]),J=(0,c.useCallback)((function(n){if(A.current=!0,i){var e=(0,s.ZP)((function(e){if(e)return(0,Z.Jq)(n.target),e.name=n.target.value,e}),i);a(e)}}),[i]),M=(0,c.useCallback)((function(){var n=document.querySelectorAll("input:not(.fakeInput)");n&&(n.forEach((function(n){(0,Z.Jq)(n)})),q(!1));var e=document.querySelectorAll("select:not(.fakeSelect)");e&&(e.forEach((function(n){(0,Z.Jq)(n,!0)})),q(!1))}),[]);(0,c.useEffect)((function(){_()}),[_]),(0,c.useEffect)((function(){O&&i&&M()}),[O,M,i]),(0,c.useEffect)((function(){if(void 0!==S){var n=document.querySelector("#row_".concat(S+1));n&&(n.classList.add("blink"),R(void 0),setTimeout((function(){n.classList.remove("blink")}),m.w))}}),[S]),(0,c.useEffect)((function(){if(i&&void 0!==I){var n=document.querySelector("#row_".concat(I));n&&(n.classList.add("blinkRed"),setTimeout((function(){n.classList.remove("blinkRed");var e=(0,s.ZP)(i,(function(n){var e;null===n||void 0===n||null===(e=n.table)||void 0===e||e.splice(I-1,1)}));a(e),E(void 0)}),m.w))}}),[I,i]);var B=(0,c.useCallback)((function(n){A.current=!0;var e=(0,s.ZP)(i,(function(e){var t;null===e||void 0===e||null===(t=e.table)||void 0===t||t.splice(n,0,["","","",""])}));a(e),R(n)}),[i]),G=(0,c.useCallback)((function(n){A.current=!0,E(n)}),[]),P=(0,c.useCallback)((function(){n.sheetId&&i&&(0,l.w1)(Number(n.sheetId),i).then((function(n){(0,Z.Oi)("\uc790\ub3d9 \uc800\uc7a5")}))}),[n.sheetId,i]);return(0,c.useEffect)((function(){!0===A.current&&(null!==D.current&&clearTimeout(D.current),D.current=setTimeout((function(){D.current=null,P()}),2e3))}),[P,i]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{title:void 0!==(null===i||void 0===i?void 0:i.name)?(0,h.jsx)(y,{value:null===i||void 0===i?void 0:i.name,onChange:J}):null,backButton:!0,backFunction:function(){return e("/",{replace:!0})}}),(0,h.jsx)(b.Z,{sheetData:i,setSheetData:a,addRow:B,removeRow:G,changeRef:A}),(0,h.jsx)(w.Z,{sheetData:i,setSheetData:a}),(0,h.jsx)(p,{refreshing:x,onClick:function(){_(),q(!0),A.current=!1,(0,Z.Oi)("\uc0c8\ub85c\uace0\uce68 \uc644\ub8cc")}}),(0,h.jsx)(k.Z,{loading:x})]})}var y=a.Z.input(v||(v=(0,i.Z)(["\n  width: 100%;\n  min-width: 50px;\n  height: 24px;\n  border: 0;\n  padding: 0 2px;\n  outline: none;\n  background: none;\n  font: inherit;\n  &:focus,\n  &:hover,\n  &:active {\n    border-bottom: 1px solid ",";\n  }\n"])),g.w.greenLine)},8141:function(n,e,t){var r=t(4836);e.Z=void 0;var i=r(t(5649)),u=t(184),a=(0,i.default)((0,u.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");e.Z=a},3950:function(n,e,t){var r=t(4836);e.Z=void 0;var i=r(t(5649)),u=t(184),a=(0,i.default)((0,u.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");e.Z=a}}]);
//# sourceMappingURL=495.0595fffd.chunk.js.map